<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Workspace</title>
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/blockEditorEnhanced.css">
</head>
<body>
    <!-- Mobile Header -->
    <header class="mobile-header">
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
            <span class="hamburger"></span>
        </button>
        <h1 class="mobile-title">Research Workspace</h1>
        <button class="mobile-theme-toggle" id="mobileThemeToggle">
            <span class="theme-icon">ðŸŒ™</span>
        </button>
    </header>

    <!-- Main Layout -->
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1 class="sidebar-logo">
                    <span class="logo-icon">ðŸ“š</span>
                    <span class="logo-text">Research</span>
                </h1>
                <button class="theme-toggle" id="themeToggle" title="Toggle theme">
                    <span class="theme-icon">ðŸŒ™</span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="#dashboard" class="nav-item active" data-view="dashboard">
                    <span class="nav-icon">ðŸ“Š</span>
                    <span class="nav-label">Dashboard</span>
                </a>
                <a href="#projects" class="nav-item" data-view="projects">
                    <span class="nav-icon">ðŸŽ¯</span>
                    <span class="nav-label">Projects</span>
                </a>
                <a href="#tasks" class="nav-item" data-view="tasks">
                    <span class="nav-icon">âœ“</span>
                    <span class="nav-label">Tasks</span>
                </a>
                <a href="#papers" class="nav-item" data-view="papers">
                    <span class="nav-icon">ðŸ“„</span>
                    <span class="nav-label">Papers</span>
                </a>
                <a href="#whiteboards" class="nav-item" data-view="whiteboards">
                    <span class="nav-icon">ðŸŽ¨</span>
                    <span class="nav-label">Whiteboards</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <button class="export-btn" id="exportData" title="Export all data">
                    ðŸ“¥ Export
                </button>
                <button class="import-btn" id="importData" title="Import data">
                    ðŸ“¤ Import
                </button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content" id="mainContent">
            <!-- Dynamic content loaded here -->
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p>Loading...</p>
            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Hidden file input -->
    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <!-- PDF.js Library (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    
    <!-- Cloudinary Storage -->
    <script src="js/cloudinaryConfig.js"></script>
    
    <!-- Core Scripts -->
    <script>
        // Configure PDF.js worker
        if (typeof pdfjsLib !== 'undefined') {
            pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js';
        }
    </script>
    
    <script src="js/pdfStorage.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/ui.js"></script>
    
    <!-- Components -->
    <script src="js/components/sidebar.js"></script>
    <script src="js/components/table.js"></script>
    <script src="js/components/pdfViewer.js"></script>
    <script src="js/components/blockEditor.js"></script>
    <script src="js/components/blockEditorEnhanced.js"></script>
    
    <!-- Views -->
    <script src="js/views/dashboard.js"></script>
    <script src="js/views/projects.js"></script>
    <script src="js/views/tasks.js"></script>
    <script src="js/views/papers.js"></script>
    <script src="js/views/whiteboards.js"></script>
    
    <!-- Main App (must load last) -->
    <script src="js/app.js"></script>
</body>
</html>
